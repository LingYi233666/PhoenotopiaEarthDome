PrefabFiles = {
	"gale",   --人物代码文件
	"gale_none", --人物皮肤

	"gale_cookpot",
	"gale_flute",

	"gale_spear",
	"gale_crowbar",
	"gale_bombbox",
	"gale_blaster_katash",
	"gale_spider_trap",
	"gale_sky_striker_blade_fire",

	"gale_fake_projectile",

	"gale_hit_vfx",
	"gale_sparkle_vfx",
	"gale_atk_fxs",
	"gale_enemy_die_smoke_vfx",
	"gale_normal_explode_vfx",
	"gale_ice_explode_vfx",
	"gale_fire_explode_vfx",
	"gale_blue_explode_vfx",
	"gale_weaponsparks",
	"gale_redlaser_fxs",
	"gale_rocket_flame",
	"gale_splash_vfx",
	"gale_groundhit_fx",
	"gale_superdash_vfx",
	"gale_atk_leap_vfx",
	"gale_magicgas_vfx",
	"gale_blaster_katash_projectile_tail_vfx",
	"gale_ring_fx",
	"gale_carry_charge_vfx",
	"gale_quick_spark_vfx",
	"gale_speedrun_vfx",
	"gale_shadow_emerge_vfx",
	"gale_scream_ring_fx",
	"gale_phantom_eyes_vfx",
	"gale_shadow_dodge_vfx",
	"gale_nail_art_slash_fx",
	"gale_bluerock_fx",
	"gale_portal_teleport_vfx",
	"gale_dark_explode_vfx",
	"galeboss_explode_fx",
	"gale_groundstone_fx",
	"galeboss_ruinforce_handelec_fx",
	"gale_stunned_fx",
	"gale_circleing_tail_vfx",
	"galeboss_explode_vfx_shadow",
	"galeboss_ruinforce_eyeflame_vfx",
	"galeboss_ruinforce_beheaded_smoke_vfx",
	"galeboss_ruinforce_projectile_dark_vfx",
	"gale_skill_linkage_line_vfx",
	"gale_skill_linkage_fxs",
	"gale_skill_kinetic_blast_projectile_vfx",
	"gale_skill_kinetic_blast_explode_vfx",
	"gale_skill_kinetic_blast_launch_vfx",
	"gale_explode_ray_vfx",
	"gale_flame_vfx",
	"gale_glitch_explode",
	"athetos_treasure_explode_tree_vfx",
	"athetos_treasure_explode_sapling_vfx",
	"athetos_treasure_explode_rock_flintless_vfx",
	"athetos_treasure_explode_seastack_vfx",
	"gale_hand_shoot_fx",
	"msf_ammo_9mm_pistol_projectile_tail_vfx",
	"gale_greatparry_vfx",
	"athetos_health_upgrade_node_absorb_vfx",
	"gale_lightningfx",
	"gale_hit_spark_fxs",
	"athetos_portable_turret_lines_vfx",
	"typhon_mimic_multiply_vfx",
	"typhon_mimic_higher_vfx",
	"typhon_phantom_spike_vfx",
	"typhon_phantom_spawn_smoke_vfx",
	"athetos_operator_medical_scan_vfx",


	"gale_conditions",
	"gale_conditions_fx",


	"galeboss_errorbot",
	"galeboss_dragon_snare",
	"galeboss_dragon_snare_tentacles",
	"galeboss_dragon_snare_babyplant",
	"galeboss_ruinforce",
	"galeboss_ruinforce_footprinter",
	"galeboss_ruinforce_projectile_dark",
	"galeboss_ruinforce_warnings",
	"galeboss_ruinforce_core",
	"galeboss_ruinforce_superjump_warning",
	"galeboss_katash",
	"galeboss_katash_spaceship",
	"galeboss_katash_safebox",


	-- "gale_flute_fx",
	-- "gale_flute_vfx",

	-- interior things
	-- "gale_test_boat",
	-- "gale_test_room",
	"gale_polygon_physics",
	"gale_wallpaper_test",
	"gale_interior_room_doors",
	"gale_interior_wall", -- walls from Hornet
	"gale_interior_floor",
	"gale_interior_windows",
	"gale_test_room_light", --light from basement
	"gale_interior_pressure_plates",
	"gale_eco_dome_rooms",
	"gale_eco_dome_room_waterpipes",
	"gale_eco_dome_fountain",

	"gale_skill_mimic_target",
	"gale_skill_mimic_eyeturret",
	"gale_skill_picker_butterfly",
	"gale_skill_picker_butterfly_blue",
	"gale_skill_summon_minion",
	"gale_skill_kinetic_blast_projectile",
	"gale_rolling_low_stamina",

	"gale_fade_shadow",
	"gale_ocean_waves",


	-- Spheralis
	"gale_spheralis_line",
	"gale_spheralis_node",

	"gale_lamp",

	-- portal cluster
	"gale_fran_door",
	-- "gale_portal_classified",

	"gale_forest_pillar_tree",
	"gale_forest_hanging_vine",
	"gale_forest_lightray",

	-- Loots
	"gale_loot_skeleton",

	"athetos_hidden_treasure",

	"gale_levers",
	"gale_spear_trap",
	"gale_invincible_walls",

	"gale_pocket_backpack",


	-- 风暴恶魔
	"typhon_phantom",
	"typhon_mimic",
	"typhon_weaver",
	"typhon_cystoid",
	"typhon_phantom_organ",
	"typhon_mimic_cancer",

	"msf_silencer_pistol",
	"msf_clip_pistol",
	"msf_ammo_9mm_pistol",



	"gale_ckptfoods_generate",

	"athetos_neuromod",
	"athetos_medkits",
	"athetos_mushroom",
	"athetos_health_upgrade_node",
	"athetos_fertilizer",
	"athetos_production_process",
	"athetos_grenade_elec",
	"athetos_gloo_gun",
	"athetos_zophiel_statue",
	"athetos_portable_turret",
	"athetos_psychostatic_cutter",
	"athetos_magic_potion",
	"athetos_operator_medical",

	"galeboss_katash_blade",

	"athetos_iron_slug",
}
---对比老版本 主要是增加了names图片 人物检查图标 还有人物的手臂修复（增加了上臂）
--人物动画里面有个SWAP_ICON 里面的图片是在检查时候人物头像那里显示用的
Assets = {



	Asset("ANIM", "anim/tz_fangun.zip"),
	Asset("ANIM", "anim/gale_status_stamina.zip"),
	Asset("ANIM", "anim/gale_status_stamina_2.zip"),

	-- Test guajian anims
	Asset("ANIM", "anim/suoluomen2_evil.zip"),
	Asset("ANIM", "anim/suoluomen2_good.zip"),


	Asset("ANIM", "anim/player_actions_tf2minigun.zip"),
	Asset("ANIM", "anim/player_tf2glovepunch.zip"),



	Asset("ANIM", "anim/reticuleaoe.zip"),
	Asset("ANIM", "anim/reticulearc.zip"),
	Asset("ANIM", "anim/reticulelong.zip"),

	Asset("ANIM", "anim/leaves_canopy2.zip"),

	Asset("ANIM", "anim/gale_magic_circle.zip"),



	-- Asset( "IMAGE", "images/saveslot_portraits/gale.tex" ), --存档图片
	-- Asset( "ATLAS", "images/saveslot_portraits/gale.xml" ),

	-- Asset( "IMAGE", "images/selectscreen_portraits/gale.tex" ), --单机选人界面
	-- Asset( "ATLAS", "images/selectscreen_portraits/gale.xml" ),

	-- Asset( "IMAGE", "images/selectscreen_portraits/gale_silho.tex" ), --单机未解锁界面
	-- Asset( "ATLAS", "images/selectscreen_portraits/gale_silho.xml" ),

	Asset("IMAGE", "bigportraits/gale.tex"), --人物大图（方形的那个）
	Asset("ATLAS", "bigportraits/gale.xml"),

	Asset("IMAGE", "bigportraits/gale_none.tex"), --人物大图（椭圆的那个）
	Asset("ATLAS", "bigportraits/gale_none.xml"),

	Asset("IMAGE", "images/map_icons/gale.tex"), --小地图
	Asset("ATLAS", "images/map_icons/gale.xml"),

	Asset("IMAGE", "images/avatars/avatar_gale.tex"),    --tab键人物列表显示的头像
	Asset("ATLAS", "images/avatars/avatar_gale.xml"),
	Asset("IMAGE", "images/avatars/avatar_ghost_gale.tex"), --tab键人物列表显示的头像（死亡）
	Asset("ATLAS", "images/avatars/avatar_ghost_gale.xml"),
	Asset("IMAGE", "images/avatars/self_inspect_gale.tex"), --人物检查按钮的图片
	Asset("ATLAS", "images/avatars/self_inspect_gale.xml"),

	Asset("IMAGE", "images/names_gale.tex"), --人物名字
	Asset("ATLAS", "images/names_gale.xml"),

	Asset("IMAGE", "images/ui/work_in_progress.tex"),
	Asset("ATLAS", "images/ui/work_in_progress.xml"),

	Asset("IMAGE", "images/ui/supportthem.tex"),
	Asset("ATLAS", "images/ui/supportthem.xml"),

	Asset("IMAGE", "images/ui/gale_family_portraits.tex"),
	Asset("ATLAS", "images/ui/gale_family_portraits.xml"),

	-- Asset( "IMAGE", "images/ui/gale_magic_bar.tex" ),
	-- Asset( "ATLAS", "images/ui/gale_magic_bar.xml" ),






	Asset("SOUNDPACKAGE", "sound/gale_sfx.fev"),
	Asset("SOUND", "sound/gale_sfx.fsb"),



	Asset("SOUNDPACKAGE", "sound/gale_bgm.fev"),
	Asset("SOUND", "sound/gale_bgm.fsb"),

	--[[---注意事项
1、目前官方自从熔炉之后人物的界面显示用的都是那个椭圆的图
2、官方人物目前的图片跟名字是分开的
3、names_gale 和 gale_none 这两个文件需要特别注意！！！
这两文件每一次重新转换之后！需要到对应的xml里面改对应的名字 否则游戏里面无法显示
具体为：
降names_esctemplatxml 里面的 Element name="gale.tex" （也就是去掉names——）
将gale_none.xml 里面的 Element name="gale_none_oval" 也就是后面要加  _oval
（注意看修改的名字！不是两个都需要修改）
	]]
}

GLOBAL.setmetatable(env, { __index = function(t, k) return GLOBAL.rawget(GLOBAL, k) end })


GLOBAL.TUNING.GAMEMODE_STARTING_ITEMS.DEFAULT.GALE = {
	"gale_flute",
	"gale_crowbar",
	"gale_cookpot_item",
	"gale_bombbox",
	-- "gale_spear",
	"gale_blaster_katash",
	-- "backpack",
	"gale_pocket_backpack_lv4",
}

for k, v in pairs(GLOBAL.TUNING.GAMEMODE_STARTING_ITEMS.DEFAULT.GALE) do
	if v == "gale_cookpot_item" then
		GLOBAL.TUNING.STARTING_ITEM_IMAGE_OVERRIDE[v] = {
			atlas = "images/inventoryimages2.xml",
			image = "portablecookpot_item.tex"
		}
	elseif v == "backpack" then
		-- elseif v == "gale_blaster_katash" then
		-- 	GLOBAL.TUNING.STARTING_ITEM_IMAGE_OVERRIDE[v] = {atlas = "images/inventoryimages/handgun_albert.xml", image = "handgun_albert.tex" }
	elseif v == "gale_pocket_backpack_lv4" then
		GLOBAL.TUNING.STARTING_ITEM_IMAGE_OVERRIDE[v] = {
			atlas = "images/inventoryimages/gale_pocket_backpack.xml",
			image = "gale_pocket_backpack.tex"
		}
	else
		GLOBAL.TUNING.STARTING_ITEM_IMAGE_OVERRIDE[v] = {
			atlas = "images/inventoryimages/" .. v .. ".xml",
			image = v .. ".tex"
		}
		-- GLOBAL.TUNING.STARTING_ITEM_IMAGE_OVERRIDE.your_item_name = {atlas = "images/inventoryimages/your_item_name.xml", image = "your_item_name.tex" }
	end
end

GLOBAL.TUNING.GALE_HEALTH = 75
GLOBAL.TUNING.GALE_SANITY = 125
GLOBAL.TUNING.GALE_HUNGER = 250


if GAME_MODES.survival then
	GAME_MODES.survival.override_lobby_music = "gale_bgm/bgm/title_screen"
end

if GAME_MODES.wilderness then
	GAME_MODES.wilderness.override_lobby_music = "gale_bgm/bgm/title_screen"
end

if GAME_MODES.endless then
	GAME_MODES.endless.override_lobby_music = "gale_bgm/bgm/title_screen"
end

AddMinimapAtlas("images/map_icons/gale.xml") --增加小地图图标
AddMinimapAtlas("images/map_icons/gale_fran_door.xml")
AddMinimapAtlas("images/map_icons/gale_fran_door_lv2.xml")
AddMinimapAtlas("images/map_icons/gale_forest_pillar_tree.xml")

--增加人物到mod人物列表的里面 性别为女性（MALE, FEMALE, ROBOT, NEUTRAL, and PLURAL）
AddModCharacter("gale", "FEMALE")


modimport("main/gale_spdamage_api.lua")
modimport("main/gale_qte_cooker_api.lua")
modimport("main/gale_attack_api.lua")
modimport("main/gale_conditions_api.lua")
modimport("main/gale_healthbar_api.lua")
modimport("main/gale_hoverer_api.lua")
modimport("main/gale_flyer_api.lua")
-- modimport("vendread.lua")
modimport("main/gale_flute_api.lua")
modimport("main/gale_dynamicmusic_api.lua")
modimport("main/gale_announce_api.lua")
modimport("main/gale_skilltree_api.lua")
modimport("main/gale_blaster_charge_api.lua")
modimport("main/gale_cg_api.lua")
modimport("main/gale_speedrun_api.lua")
modimport("main/gale_newspawn_sleep_api.lua")
modimport("main/gale_debug.lua")
modimport("main/gale_special_status_api.lua")
modimport("main/gale_lamp_api.lua")
modimport("main/gale_recipes.lua")
modimport("main/gale_interior_room_api.lua")
modimport("main/gale_portal_api.lua")
modimport("main/gale_reroll_api.lua")
modimport("main/gale_forest_api.lua")
modimport("main/gale_lever_api.lua")
modimport("main/galeboss_spawner_api.lua")
modimport("main/gale_pocket_backpack_api.lua")
modimport("main/gale_blaster_jammed_api.lua")
modimport("main/gale_blaster_show_ammo_api.lua")
modimport("main/gale_blaster_reload_ammo_api.lua")
modimport("main/gale_treasure_spawner_api.lua")
modimport("main/gale_useableitem_api.lua")
modimport("main/gale_readable_paper_api.lua")
-- modimport("main/gale_self_inspect_inv.lua")
modimport("main/gale_scrapbook_api.lua")
modimport("main/gale_wonkey_run_fix_api.lua")
modimport("main/gale_common_api.lua")

-- if LOC.GetLanguage() == LANGUAGE.CHINESE_S then
-- 	modimport("main/gale_language_chs.lua")
-- else
-- 	modimport("main/gale_language_en.lua")
-- end

modimport("main/gale_language_chs.lua")


-- modimport("myth_hack.lua")
